■はじめに (Introduction)
　・ダウンロードして頂き、ありがとうございます。
　・本ファイルは本プログラムのシステム要件、使い方、注意点などを記載しています。
　・ご使用の前にご一読ください。

■ファイル説明 (File Description)
  main.py 		            → 変換プログラム
  start.bat 		          → プログラムを実行するためのもの(Pathが通っていること前提)
  EQ filter.png 	        → AudacityでEQフィルター使用時の参考になるかもしれない画像。
  Sine Wave Soundfont.sf2 → 主にOmniMIDIなどで使うサウンドフォント。標準のMidiの音を正弦波に変えてくれる。
  使い方.txt 		          → 今見ているテキストファイル。
  READNE.md 		          → Githubでの説明用。

■概要 (Summary)
　・このツールは任意のWavファイルをフーリエ変換を利用して、なるべく元ファイルと同じ聞こえ方をするようにMidiへと変換するものです。
　・ある程度の知識があれば、プログラムをいじって自分好みにカスタマイズできます。

■システム要件(動作確認が取れているもの) (Confirmed system requirements)
　OS：  Windows11
　CPU:  余程古くなければ時間はかかっても動くはず。
　RAM:  16GB以上推奨。元が5分程度の曲で8GBぐらい使う(ただし音声データの長さによって変動)

■アンインストール (How to uninstall)
　・このファイルのあるフォルダごとゴミ箱に捨てる。

■前提ソフト(基本的に最新版でも良いと思われる) (Required Software)
  ・Audacity 3.4.2 - 3.5.1
  ・Python   3.10.6
  ・OmniMIDI 14.8.5 (正弦波合成できれば基本的に何でもよい)
  ・Midi再生ソフト (おすすめはTom's MIDI Player)

■変換の前に... (What to install with pip)
  numpy,mido,scipyをインストール
  pip install numpy  (1.26.4)
  pip install mido   (1.3.2)
  pip install scipy  (1.12.0)

■変換方法 (Conversion Method)
　以下の手順を実行してください。
  1. Audacityを起動し、任意の音声ファイルをドラッグアンドドロップした後、音声波形の左下にある "選択" をクリックし、上のタブから 「トラック→ミックス→ステレオをモノラルにミックスダウン」 の順に操作します。
　2. 次に、そのWavファイルのデータに対し、EQフィルターで低音と高音が減少していくように加工します(参考用の画像ファイルあり)
  3. さらに、 「エフェクト→ピッチとテンポ→テンポを変更」 から、下の "高品質な伸縮" にチェックを入れて、変更率を "-93.750" にします。
  4. 「エフェクト→音量と圧縮→増幅...」 をクリックし、そのまま適用をクリックします。
　5. 「ファイル→オーディオをエクスポート」 をクリックし、形式は "WAV (Microsoft)" 、サンプリング周波数は "44100Hz" 、エンコーディングは "Signed 16-bit PCM" にして、変換プログラムがあるフォルダに "test.wav" という名前で書き出します。
　6．"start.bat" という名前のバッチファイルを起動します。このとき、同じディレクトリに "test.wav" という名前のファイルがあれば、それが変換されます。無ければエラーで終了します。
　7．フリーズしているわけではないので気長に待ちます。
　8．頑張って待ち続けると、 "test_wav_pitch_bend.mid" という名前のmidiファイルが生成され、さらにウィンドウが閉じるのを待つと再生できるようになります。
　9．Tom's MIDI Playerなどのmidiプレイヤーで聴きます。

■注意点 (Important point)
  ・6番の変換中に、RAMがシステムの限界に近づきすぎるとパソコンがおかしくなる可能性があるので、残り2GBぐらいになってしまったら強制終了させてください。
  ・1番のEQフィルターをしないと、低音が強すぎたり、高音がうるさかったりすることがあります。
　・1/16倍速された音声データを対象としているので、上記の2番の手順を行わないと、Midiの再生速度が16倍速された状態になります。

　・Midiの再生には"VirtualMIDISynth"や"OmniMIDI"やシンセサイザー等を利用して、正弦波でMidiデータを合成して聴くようにしてください。
   正弦波のサウンドフォントもあるので、よかったら使ってください。

■最後に (Finally)
　・このテキストファイルの内容は修正を加える可能性があります。
　・本プログラムは完全無料です。改変は許可しますが、再配布を禁じます。
　・本プログラムを使用したことによる如何なる損害について責任は一切負いません。

最終編集日:2024/05/20
